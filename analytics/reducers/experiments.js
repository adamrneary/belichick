import { clone } from 'lodash';

import { SERVER_UPDATE, UPDATE_ALLOCATION } from '../../common/ActionTypes';

/*eslint-disable*/
// const volumeData = JSON.parse(`[[{"x":0,"y":0.34912626234114974,"y0":0},{"x":1,"y":0.5726051427179866,"y0":0},{"x":2,"y":0.7933212405845286,"y0":0},{"x":3,"y":1.2552968960689823,"y0":0},{"x":4,"y":1.7527431473894468,"y0":0},{"x":5,"y":2.4381797477866862,"y0":0},{"x":6,"y":3.1442816696945597,"y0":0},{"x":7,"y":3.8679085937774564,"y0":0},{"x":8,"y":4.387294858204619,"y0":0},{"x":9,"y":4.637237214447215,"y0":0},{"x":10,"y":4.589802286798298,"y0":0},{"x":11,"y":4.331642082548233,"y0":0},{"x":12,"y":3.7857256963720114,"y0":0},{"x":13,"y":3.1378599487970007,"y0":0},{"x":14,"y":2.5254885790156765,"y0":0},{"x":15,"y":1.9959624869498978,"y0":0},{"x":16,"y":1.7445093448633928,"y0":0},{"x":17,"y":1.6310379465978917,"y0":0},{"x":18,"y":1.8194121048282488,"y0":0},{"x":19,"y":2.0708883034738985,"y0":0},{"x":20,"y":2.5115470664495105,"y0":0},{"x":21,"y":2.755751250093925,"y0":0},{"x":22,"y":2.8174523865516914,"y0":0},{"x":23,"y":2.7927172199243886,"y0":0},{"x":24,"y":2.4203896697096545,"y0":0},{"x":25,"y":2.0246299517196538,"y0":0},{"x":26,"y":1.5499268825717423,"y0":0},{"x":27,"y":1.0661027851656841,"y0":0},{"x":28,"y":0.7569709431059699,"y0":0},{"x":29,"y":0.48487717308326356,"y0":0},{"x":30,"y":0.333776730905772,"y0":0},{"x":31,"y":0.28944140861460765,"y0":0},{"x":32,"y":0.142282184079185,"y0":0},{"x":33,"y":0.13494465340878603,"y0":0},{"x":34,"y":0.1165041006271719,"y0":0},{"x":35,"y":0.13072252024977854,"y0":0},{"x":36,"y":0.185928263485337,"y0":0},{"x":37,"y":0.13744068287882072,"y0":0},{"x":38,"y":0.1523789888828276,"y0":0},{"x":39,"y":0.1542035108020507,"y0":0},{"x":40,"y":0.1787012307574114,"y0":0},{"x":41,"y":0.10008157350015243,"y0":0},{"x":42,"y":0.16130537514917648,"y0":0},{"x":43,"y":0.12025413106592288,"y0":0},{"x":44,"y":0.1587948824580574,"y0":0},{"x":45,"y":0.16697070493523197,"y0":0},{"x":46,"y":0.14189506761202994,"y0":0},{"x":47,"y":0.1631985095924149,"y0":0},{"x":48,"y":0.12111508901110667,"y0":0},{"x":49,"y":0.19818110621922583,"y0":0},{"x":50,"y":0.18008376568110745,"y0":0},{"x":51,"y":0.17121426026565117,"y0":0},{"x":52,"y":0.10892637628250107,"y0":0},{"x":53,"y":0.12793242644161237,"y0":0},{"x":54,"y":0.10465687872429225,"y0":0},{"x":55,"y":0.1011647348585599,"y0":0},{"x":56,"y":0.1680284840302897,"y0":0},{"x":57,"y":0.1775408862390684,"y0":0},{"x":58,"y":0.17054750627792423,"y0":0},{"x":59,"y":0.19625196135172493,"y0":0}],[{"x":0,"y":1.5104842996221144,"y0":0.34912626234114974},{"x":1,"y":1.3476256487257898,"y0":0.5726051427179866},{"x":2,"y":1.157847398505987,"y0":0.7933212405845286},{"x":3,"y":0.8289767822671306,"y0":1.2552968960689823},{"x":4,"y":0.5982018465446135,"y0":1.7527431473894468},{"x":5,"y":0.42857934787974944,"y0":2.4381797477866862},{"x":6,"y":0.2729209832003469,"y0":3.1442816696945597},{"x":7,"y":0.2533774925766781,"y0":3.8679085937774564},{"x":8,"y":0.22341772805898227,"y0":4.387294858204619},{"x":9,"y":0.16087661972666983,"y0":4.637237214447215},{"x":10,"y":0.1773028151862511,"y0":4.589802286798298},{"x":11,"y":0.16405686332067618,"y0":4.331642082548233},{"x":12,"y":0.1846730804739081,"y0":3.7857256963720114},{"x":13,"y":0.2105658618396433,"y0":3.1378599487970007},{"x":14,"y":0.19412449381520852,"y0":2.5254885790156765},{"x":15,"y":0.3337684571007922,"y0":1.9959624869498978},{"x":16,"y":0.44920006227023274,"y0":1.7445093448633928},{"x":17,"y":0.6161289029888245,"y0":1.6310379465978917},{"x":18,"y":0.9204788921517018,"y0":1.8194121048282488},{"x":19,"y":1.1952275396994956,"y0":2.0708883034738985},{"x":20,"y":1.3740723107989172,"y0":2.5115470664495105},{"x":21,"y":1.507451544135962,"y0":2.755751250093925},{"x":22,"y":1.5962709590495983,"y0":2.8174523865516914},{"x":23,"y":1.4296188591175507,"y0":2.7927172199243886},{"x":24,"y":1.2395440040391854,"y0":2.4203896697096545},{"x":25,"y":0.9294438378152488,"y0":2.0246299517196538},{"x":26,"y":0.6658913940733566,"y0":1.5499268825717423},{"x":27,"y":0.45669654194560017,"y0":1.0661027851656841},{"x":28,"y":0.3100782921101205,"y0":0.7569709431059699},{"x":29,"y":0.23700852280537296,"y0":0.48487717308326356},{"x":30,"y":0.14130652439544208,"y0":0.333776730905772},{"x":31,"y":0.1351583158723037,"y0":0.28944140861460765},{"x":32,"y":0.1956230653885296,"y0":0.142282184079185},{"x":33,"y":0.1508628084807554,"y0":0.13494465340878603},{"x":34,"y":0.18747734243552544,"y0":0.1165041006271719},{"x":35,"y":0.13319565154348964,"y0":0.13072252024977854},{"x":36,"y":0.15268332555606265,"y0":0.185928263485337},{"x":37,"y":0.1586640292445412,"y0":0.13744068287882072},{"x":38,"y":0.11731982024057712,"y0":0.1523789888828276},{"x":39,"y":0.14709716266092557,"y0":0.1542035108020507},{"x":40,"y":0.13895652326517938,"y0":0.1787012307574114},{"x":41,"y":0.12115169851418557,"y0":0.10008157350015243},{"x":42,"y":0.20291717216672778,"y0":0.16130537514917648},{"x":43,"y":0.15470661175678943,"y0":0.12025413106592288},{"x":44,"y":0.19293713632381734,"y0":0.1587948824580574},{"x":45,"y":0.21370125805425352,"y0":0.16697070493523197},{"x":46,"y":0.2858595626400901,"y0":0.14189506761202994},{"x":47,"y":0.32853607114527683,"y0":0.1631985095924149},{"x":48,"y":0.4107521815226422,"y0":0.12111508901110667},{"x":49,"y":0.5534235946268187,"y0":0.19818110621922583},{"x":50,"y":0.7284636820019945,"y0":0.18008376568110745},{"x":51,"y":0.996879916333816,"y0":0.17121426026565117},{"x":52,"y":1.3201487851769214,"y0":0.10892637628250107},{"x":53,"y":1.683861471638631,"y0":0.12793242644161237},{"x":54,"y":1.941747401633804,"y0":0.10465687872429225},{"x":55,"y":2.3370987302763937,"y0":0.1011647348585599},{"x":56,"y":2.568486189637993,"y0":0.1680284840302897},{"x":57,"y":2.6654886519445684,"y0":0.1775408862390684},{"x":58,"y":2.682755516108505,"y0":0.17054750627792423},{"x":59,"y":2.654486165088125,"y0":0.19625196135172493}]]`);
/*eslint-enable*/
//
// const performanceData = {
//   light: {
//     label: 'Solarized Light',
//     users: 1234,
//     todosCreated: 3220,
//     todosCompleted: 300,
//   },
//   dark: {
//     label: 'Solarized Dark',
//     users: 2345,
//     todosCreated: 3310,
//     todosCompleted: 100,
//   },
// };

const actions = {};

actions[SERVER_UPDATE] = (state, action) => action.dataSnapshot.val();

actions[UPDATE_ALLOCATION] = (state, action) => Object.assign(clone(state), {
  targetAllocation: action.val,
  targetAllocationPending: true,
});

export default function todos(state = {}, action) {
  if (actions[action.type]) {
    return actions[action.type](state, action);
  }
  return state;
}
